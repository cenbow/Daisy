webpackJsonp([2],{2:function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},s=0;s<this.length;s++){var o=this[s][0];"number"==typeof o&&(i[o]=!0)}for(s=0;s<t.length;s++){var a=t[s];"number"==typeof a[0]&&i[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),e.push(a))}},e}},3:function(e,t,r){function i(e,t){for(var r=0;r<e.length;r++){var i=e[r],s=u[i.id];if(s){s.refs++;for(var o=0;o<s.parts.length;o++)s.parts[o](i.parts[o]);for(;o<i.parts.length;o++)s.parts.push(d(i.parts[o],t))}else{for(var a=[],o=0;o<i.parts.length;o++)a.push(d(i.parts[o],t));u[i.id]={id:i.id,refs:1,parts:a}}}}function s(e){for(var t=[],r={},i=0;i<e.length;i++){var s=e[i],o=s[0],a=s[1],n=s[2],d=s[3],c={css:a,media:n,sourceMap:d};r[o]?r[o].parts.push(c):t.push(r[o]={id:o,parts:[c]})}return t}function o(e,t){var r=h(),i=m[m.length-1];if("top"===e.insertAt)i?i.nextSibling?r.insertBefore(t,i.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),m.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=m.indexOf(e);t>=0&&m.splice(t,1)}function n(e){var t=document.createElement("style");return t.type="text/css",o(e,t),t}function d(e,t){var r,i,s;if(t.singleton){var o=v++;r=g||(g=n(t)),i=c.bind(null,r,o,!1),s=c.bind(null,r,o,!0)}else r=n(t),i=l.bind(null,r),s=function(){a(r)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else s()}}function c(e,t,r,i){var s=r?"":i.css;if(e.styleSheet)e.styleSheet.cssText=b(t,s);else{var o=document.createTextNode(s),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function l(e,t){var r=t.css,i=t.media,s=t.sourceMap;if(i&&e.setAttribute("media",i),s&&(r+="\n/*# sourceURL="+s.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var u={},p=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},f=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=p(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,v=0,m=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=f()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var r=s(e);return i(r,t),function(e){for(var o=[],a=0;a<r.length;a++){var n=r[a],d=u[n.id];d.refs--,o.push(d)}if(e){var c=s(e);i(c,t)}for(var a=0;a<o.length;a++){var d=o[a];if(0===d.refs){for(var l=0;l<d.parts.length;l++)d.parts[l]();delete u[d.id]}}}};var b=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},47:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=env.resPath;t.default={data:function(){return{siteurl:env.siteurl,res:env.resPath,alipath:env.alipath,productData:this.$root.DetailtMessage.data.result,btnText:["立即兑换","人气值不足","投资后才可以兑换哦","V"+this.$root.DetailtMessage.data.result.levelNeed+"及以上才可以兑换哦","已兑完"],coverShow:!1,surePayTip:!1,exchangeSuccess:!1,inputAddress:!1,method:"",disabled:!1,isWrong:!1,address:"",receiver:"",mobile:"",isMobile:!0,reChangeMobile:"",isError:!1,errorText:"网络拥挤，过会再来哦",finalGoodsDes:""}},created:function(){var e=this;console.log("goodsDes:",e.goodsDes),console.log(e.productData),console.log(this.$root.DetailtMessage.data.result.goodsDes),e.splitMsg(this.$root.DetailtMessage.data.result.goodsDes),window.scrollTo(0,0),1==env.Os&&Android.UpdateTitle("商品详情"),this.$on("methodCallback",function(t,r){this.$root.initData=t,3==e.method?t.data.success?(e.exchangeSuccess=!0,e.surePayTip=!1,initData.result.popularity=initData.result.popularity-0-(e.productData.discountPrice-0)):(e.isError=!0,10001==t.data.resultCodes[0].code||(90058==t.data.resultCodes[0].code?e.errorText="活动即将开始":90702==t.data.resultCodes[0].code?e.errorText="活动已结束":e.errorText=t.data.resultCodes[0].msg),setTimeout(function(){e.isError=!1},2e3)):this.$router.go({path:"/exchangeRecord?title="+window.encodeURI("兑换记录")})})},ready:function(){new Swiper(".swiper-container",{direction:"horizontal",loop:!0,autoplay:2e3,pagination:".swiper-pagination"})},components:{},methods:{getImg:function(e){return r+e},requestData:function(e,t,r){var i=this,s=window.encodeURI(i.address),o=window.encodeURI(i.receiver),a=window.encodeURI(i.mobile),n={recordList:"args_currentPage_1_integer_1",productOrder:["args_goodId_1_long_"+i.productData.id+"&args_amount_1_integer_"+i.productData.discountPrice,"args_goodId_1_long_"+i.productData.id+"&args_amount_1_integer_"+i.productData.discountPrice+"&args_rechargeCard_1_string_"+i.reChangeMobile,"args_goodId_1_long_"+i.productData.id+"&args_amount_1_integer_"+i.productData.discountPrice+"&args_address_1_string_"+s+"&args_receiver_1_string_"+o+"&args_mobile_1_string_"+a,"args_goodId_1_long_"+i.productData.id+"&args_amount_1_integer_"+i.productData.discountPrice]};i.method=e,"recordList"==r?hook.getEvent(e+"&isNeedRealName=0&"+n[r],$(t.currentTarget),1):hook.getEvent(e+"&isNeedRealName=0&"+n[r][i.productData.goodsType-1],$(t.currentTarget),1)},submitBtn:function(e,t){var r=this;return!$(e).hasClass("z-disabled")&&(2==r.productData.goodsType&&1==r.productData.rechargeType&&r.limitMobile("#j-rechargeMobile"),!!r.isMobile&&(3==r.productData.goodsType?r.inputAddress=!0:r.surePayTip=!0,void(r.coverShow=!0)))},toSubmitOrder:function(e,t,r){var i=this;return""!=i.address&&""!=i.receiver&&""!=i.mobile&&(this.surePayTip=!0,void(i.inputAddress=!1))},limitInput:function(e,t,r){return""!=e&&""!=t&&""!=r?(console.log("true"),!0):(console.log("false"),!1)},submitOrder:function(e,t,r){var i=this;i.requestData(e,t,r)},cancleBtn:function(e){var t=this;t.surePayTip=!1,t.coverShow=!1,t.exchangeSuccess=!1,t.inputAddress=!1},limitMobile:function(e){var t=/^13[0-9]{9}$|14[5,7]{1}[0-9]{8}$|15[0-9]{9}$|17[0,1,6,7,8]{1}[0-9]{8}$|18[0-9]{9}$/,r=/^1(3[4-9]|5[012789]|8[23478]|4[7]|7[8])\d{8}$/,i=$(e).val(),s=this;t.test(i)?r.test(i)?s.isMobile=!0:(s.phoneErrorText="抱歉，当前仅支持兑换移动话费",s.isWrong=!0,setTimeout(function(){s.isWrong=!1},2e3),s.isMobile=!1):(s.phoneErrorText="请输入正确的手机号码",s.isWrong=!0,setTimeout(function(){s.isWrong=!1},2e3),s.isMobile=!1),$("#j-submitBtn").css("position","fixed")},hideChangeBtn:function(e){$(e).css("position","static")},splitMsg:function(e){var t=this;e&&(t.finalGoodsDes=e.replace(/#/g," ").replace("^","'").replace("$",'"').replace("：",":").split("&"))}}}},83:function(e,t,r){t=e.exports=r(2)(),t.push([e.id,"body{background:#fff}.swiper-pagination-bullet-active{background:#d74148}",""])},92:function(e,t){e.exports=' <div> <div> <div v-if="productData.imageList.length>1" class="swiper-container u-swiperWrap" style="width: 90%;height: 200px;text-align: center;padding: 0 5%;overflow: hidden"> <div v-if=productData.imageList.length class=swiper-wrapper style="width: 100%;height: 200px;line-height: 200px"> <div v-for="item  in productData.imageList" class=swiper-slide> <img :src=alipath+item.fileUrl alt="" heigth=200px width=200px> </div> </div> <div class=swiper-pagination></div> </div> <div v-else class=u-swiperWrap style="width: 90%;height: 200px;text-align: center;padding: 0 5%;overflow: hidden"> <img :src=alipath+productData.imageList[0].fileUrl alt="" heigth=200px width=200px> </div> </div> <div style="background:#F3F3F3;width: 100%;height: 10px"></div> <div class=u-productInfo> <div class=u-exchangeValue> <p class="f-color3 f-fs16"> {{productData.goodsName}} </p> <p class="f-fs16 f-color6"> <em>{{productData.discountPrice}}点</em>人气值 <span class="f-fs12 f-color9" v-if="productData.price>productData.discountPrice">{{productData.price}}点人气值</span> </p> <input v-if="productData.goodsType==2&&productData.rechargeType==1" class="u-phoneNumber f-color9 f-fs14" id=j-rechargeMobile type=number placeholder=请输入手机号码 @focus="hideChangeBtn(\'#j-submitBtn\')" @blur="limitMobile(\'#j-rechargeMobile\')" v-model=reChangeMobile> </div> <div> <p class="f-fs16 f-color6 u-infoTitle">详情说明</p> <p class="f-fs14 f-color9" v-for="item in finalGoodsDes">{{item}}</p> <p class="f-fs16 f-color6 u-infoTitle">兑换规则</p> <p class="f-fs14 f-color9">1、卡券类商品3个工作日内发放，实物类商品10个工作日内包邮寄出；<br> 2、除商品质量问题外，概不退货；<br> 3、最终解释权归有融网所有。 </p> </div> <a href=javascript:void(0) @click="submitBtn(\'#j-submitBtn\',$event)"> <div id=j-submitBtn class=u-changeBtn :class="{\'z-disabled\':productData.goodStatusFlag>0}"> {{btnText[productData.goodStatusFlag]}} </div> </a> </div> <div class="u-checkBox animated zoomIn" v-show=exchangeSuccess> <p class="f-color3 f-fs16"> 兑换成功 </p> <div class=f-fs16> <span @click=cancleBtn>取消</span> <a href=javascript:void(0) @click="requestData(4,$event,\'recordList\')"><span>查看兑换记录</span></a> </div> </div> <div class="u-checkBox animated zoomIn" v-show=surePayTip> <p class="f-color3 f-fs16"> 确认花费{{productData.discountPrice}}点人气值兑换? </p> <div class=f-fs16> <span @click=cancleBtn>取消</span> <a href=javascript:void(0) @click="submitOrder(3,$event,\'productOrder\')"><span>确定</span></a> </div> </div> <div class="u-addressBox animated zoomIn" v-show=inputAddress> <p class="f-fs16 f-color3"> 请填写收货信息 </p> <input class=j-watchChange type=text name=userName placeholder=收货人姓名 v-model=receiver> <input class=j-watchChange type=number name=userPhone placeholder=手机号码 min=0 max=11 pattern=[0-9] v-model=mobile> <textarea class=j-watchChange type=text name=userAddress placeholder=收货地址 v-model=address></textarea> <div class="f-fs16 u-sureBtn"> <span @click=cancleBtn>取消</span> <span :class="{\'z-filled\':limitInput(address,receiver,mobile)}" @click=toSubmitOrder>确定</span> </div> </div> <div class=u-wrongTips v-if=isError> {{errorText}} </div> <div class="u-wrongTips j-wrongTips" v-if=isWrong> {{phoneErrorText}} </div> <div class=u-cover style="display: block" v-if=coverShow></div> </div> '},100:function(e,t,r){var i,s,o={};r(104),i=r(47),s=r(92),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports.default);var a="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;s&&(a.template=s),a.computed||(a.computed={}),Object.keys(o).forEach(function(e){var t=o[e];a.computed[e]=function(){return t}})},104:function(e,t,r){var i=r(83);"string"==typeof i&&(i=[[e.id,i,""]]);r(3)(i,{});i.locals&&(e.exports=i.locals)}});