"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_util=require("common/util");$.fn.extend({fadeShow:function(e){function t(){var e=n.find("ul li.z-current").eq(0),t=n.find("ul li"),i=n.find("ol li"),s=e.index(),a=0;s>=0&&s<o-1?(e.next().css("z-index","50"),e.css("z-index","51").fadeOut(500,function(){e.show().css("z-index","-1").removeClass("z-current"),e.next().css("z-index","50").addClass("z-current")}),a=s+1):s===o-1&&(t.eq(0).css("z-index","50"),e.css("z-index","51").fadeOut(500,function(){e.show().css("z-index","-1").removeClass("z-current"),t.eq(0).css("z-index","50").addClass("z-current")}),a=0),i.eq(a).addClass("z-current").siblings().removeClass("z-current")}var n=$(this),i=3e3,s="",o=n.data("size");if("undefined"==typeof e)throw new Error("fadeShow():config is not defined");i="undefined"!=typeof e.time?e.time:3e3,o="undefined"!=typeof o?o:3,s="undefined"!=typeof e.type?e.type:"banner";var a=setInterval(function(){t()},i);n.on("mouseenter","ul li",function(){clearInterval(a)}),n.on("mouseleave","ul li",function(){a=setInterval(function(){t()},i)}),n.on("click","ol li:not(.z-current)",function(){var e=$(this).index(),t=n.find("ul li").eq(e);t.data("effect");$(this).addClass("z-current").siblings().removeClass("z-current"),n.find("ul li").eq(e).css("z-index","50").addClass("z-current").siblings().css("z-index","-1").removeClass("z-current"),clearInterval(a)})},bannerCountdown:function(e,t){var n=new Date(environment.serverDate),i=new Date(e),s=i.getDate()-n.getDate()+1;n>i&&(s=0),s<10&&(s<0&&(s=0),s="0"+s),$(this).find('[data-effect="'+t+'"]').append('<div class="u-countdown-wrap"><p class="u-'+t+'-countdown">'+s+"</p></div>")},qrcodePreview:function(){var e,t,n=$("body"),i=!1;this.each(function(){$(this).on("mouseenter",function(){var e=$(this).data("imgurl"),s=$(this).offset().left,o=$(this).offset().top,a=$(this).data("direction");switch(t=(new Date).getTime(),$(".j-qrcode-img").remove(),a){case"leftTop":o=o-200+$(this).height();break;case"centerbottom":s=s-100+10,o+=22,i=!0}var r='<img src="'+e+'" class="u-qrcode-img j-qrcode-img" id="j-img-'+t+'" style="left:'+s+"px;top:"+o+'px"/>';n.append(r)}).on("mouseleave",function(){i&&(e=setTimeout(function(){t=t||0,n.find("#j-img-"+t).remove()},300))})}),n.on("mouseenter",".j-qrcode-img",function(){e&&clearTimeout(e)}).on("mouseleave",".j-qrcode-img",function(){$(this).remove()})}}),$.fn.extend({xCheckBox:function(){this.each(function(){$(this).on("click",function(){$(this).attr("disabled")||($(this).hasClass("z-checked")?$(this).removeClass("z-checked").children("input").removeAttr("checked"):$(this).addClass("z-checked").children("input").attr("checked","checked"))})})},xSelector:function(){this.each(function(){var e=$(this);e.on("click",function(e){return $(this).toggleClass("z-actived"),e.preventDefault(),!1}).on("mouseleave",function(){$(this).removeClass("z-actived")}),e.on("mouseenter","ul",function(){$(this).parent().addClass("z-actived")}),e.hasClass("u-scroll-selector")&&e.on("scroll",function(e){e.stopPropagation()}),e.on("click","li",function(){var e=$(this).html(),t=$(this).attr("value"),n=$(this).parent();return!$(this).hasClass("z-disabled")&&(n.siblings("button").html(e),void n.siblings(".j-selected-ipt").val(t))})})}}),$.fn.extend({scrollList:function(e){this.each(function(){function t(){return setInterval(function(){var t=n.find("li:visible");n.animate({marginTop:-e.height},700,function(){t.slice(0,e.length).appendTo(n),n.css("margin-top",0)})},e.time)}var n=$(this),i=n.find("li").length/e.length;if(i>e.size){var s=t();e.stoppabled&&n.on("mouseenter",function(){clearInterval(s)}).on("mouseleave",function(){s=t()})}})},switchList:function(e){return $(this).on("click","h2,h3,h4,span",function(){var e=$(this).index();$(this).addClass("z-current").siblings().removeClass("z-current"),$(this).parent().siblings().eq(e).removeClass("f-dn").siblings("ul").addClass("f-dn")}),this}}),$.fn.extend({loading:function(){return this.each(function(){$(this).html('<div class="u-loading-box"><div class="u-progress-bar"><img src="'+environment.globalPath+'/static/img/common/loading.gif"/>请稍候...</div></div>')})},xLoading:function(e,t){var n,i="",s="";"undefined"!=typeof t&&(s="z-dir-"+t),n='<span class="u-xloading u-circle-15 '+s+'"></span>',i=this.css("positon"),"absolute"===i&&"relative"===i||this.addClass("f-pos-r"),this.append(n),this.loadingDone=function(){$(this).find(".u-xloading").remove()},"function"==typeof e&&e(this)}}),$.fn.extend({arrowLocator:function(){var e,t,n=$(this),i=n.find(".z-current"),s=i.position(),o=i.width();if("undefined"!=typeof s){var a=n.children("i");if(1===a.length)e=a.width(),t=s.left+o/2-e/2,a.css({left:t});else{var r=n.find(".u-arrow-up");r.length>0&&(e=r.width(),t=s.left+o/2-e/2,r.css({left:t}))}}}}),$.fn.extend({greetingTips:function(){var e=(new Date).getHours(),t="";t=e>12&&e<18?"下午好，":e>=18?"晚上好，":"上午好，",$(this).text(t)},hoverTips:function(){this.each(function(){$(this).on("mouseenter",function(){var e=$(this).data("tips"),t=$(this).data("skin"),n=$(this).data("align");n="undefined"==typeof n?"bottom":n,e="undefined"==typeof e?"":e,t="undefined"==typeof t?"u-user-tips":t;var i=window.dialog({align:n,skin:t,content:e});i.show(this),$(this).data("hoverObj",i)}).on("mouseleave",function(){var e=$(this).data("hoverObj");e.close().remove()})})}}),$.fn.extend({pasteEvents:function(e){return"undefined"==typeof e&&(e=20),$(this).each(function(){var t=$(this);t.on("paste",function(){t.trigger("prepaste"),setTimeout(function(){t.trigger("postpaste")},e)})})},numOnly:function(){$(this).on("keyup",function(){var e=$(this).val();Number(e)||$(this).val(e.replace(/[^\d]/g,""))})},stopEnterKey:function(){this.each(function(){$(this).on("keydown",function(e){var t=e||event;if(13===t.keyCode)return t.keyCode=0,!1})})}}),$.fn.extend({xArgreement:function(){var e=$(this),t=e.data("url"),n=e.data("target"),i=$("#"+n);e.on("click",function(){return i.find("iframe").attr("src",t),$.shade("show"),$(".u-shade").css("z-index",1001),i.fadeIn(),!1}),i.find("i").on("click",function(){i.hide(),$.shade("hide"),$(".u-shade").css("z-index",999)})},floatLayer:function(){this.each(function(){$(this).css({"margin-left":-($(this).outerWidth()/2),"margin-top":-($(this).outerHeight()/2)})})},toggleLayerDisplay:function(){this.each(function(){var e=$(this).data("label"),t=$(this).data("target"),n=t?$(t):$(this).parent(),i=_util.Util.storage("closedLayerStatus"),s=i?JSON.parse(i):{};if(e){var o=_util.Util.format(environment.serverDate,"yyyyMMdd");(!s[e]||s[e]&&s[e]!==o)&&n.css("display","block"),$(this).click(function(t){return t.stopPropagation(),n.remove(),s[e]=o,_util.Util.storage("closedLayerStatus",JSON.stringify(s)),!1})}})},popupPosition:function(e){var t=e.target,n=null,i=e.width||0,s=$(this).offset(),o=$(this).outerWidth(),a=e.offset||0,r="left",c=0,l=0,d=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;switch(s.left>d/2&&d>=990&&(r="right"),r){case"left":c=s.left+o+a,l=s.top,t.removeClass("z-right");break;case"right":c=s.left-i-a,l=s.top,t.addClass("z-right")}t.css({left:c,top:l-e.height/2,position:"absolute",height:e.height||"auto",width:e.width||"auto"}).show(),$(this).on("mouseenter",function(){t.data("isDisplay",!0)}).on("mouseleave",function(){n=setTimeout(function(){t.data("isDisplay")||(t.hide(),t.data("isDisplay",!1))},50)}),t.on("mouseenter",function(){n?clearTimeout(n):null}).on("mouseleave",function(){$(this).hide(),clearTimeout(n)})}}),$.extend({shade:function e(t){var e=$(".u-shade");if("undefined"==typeof t||"show"===t)if(e.length)e.show();else{var n=$("body"),i=n.height(),s="<div class='u-shade' style='height:"+i+"px'></div>";n.append(s)}else"hide"===t&&e.remove()}}),$.fn.extend({placeholder:function(e){return e=$.extend({placeholderColor:"#ACA899",isUseSpan:!1,onInput:!0},e),$(this).each(function(){var t=this,n="placeholder"in document.createElement("input");if(!n){var i=$(t).attr("placeholder"),s=$(t).css("color");if(0==e.isUseSpan)$(t).focus(function(){var e=new RegExp("^"+i+"$|^$");e.test($(t).val())&&$(t).val("").css("color",s)}).blur(function(){$(t).val()==i?$(t).css("color",s):0===$(t).val().length&&$(t).val(i).css("color",e.placeholderColor)}).trigger("blur");else{var o=$('<span class="wrap-placeholder" style="position:absolute; display:inline-block; overflow:hidden; color:'+e.placeholderColor+"; width:"+$(t).outerWidth()+"px; height:"+$(t).outerHeight()+'px;">'+i+"</span>");if(o.css({"margin-left":$(t).css("margin-left"),"margin-top":$(t).css("margin-top"),"font-size":$(t).css("font-size"),"font-family":$(t).css("font-family"),"font-weight":$(t).css("font-weight"),"padding-left":parseInt($(t).css("padding-left"))+2+"px","line-height":"textarea"==t.nodeName.toLowerCase()?$(t).css("line-weight"):$(t).outerHeight()+"px","padding-top":"textarea"==t.nodeName.toLowerCase()?parseInt($(t).css("padding-top"))+2:0}),$(t).before(o.click(function(){$(t).trigger("focus")})),0!==$(t).val().length&&o.hide(),e.onInput){var a="object"==_typeof(t.oninput)?"input":"propertychange";$(t).bind(a,function(){o[0].style.display=0!==$(t).val().length?"none":"inline-block"})}else $(t).focus(function(){o.hide()}).blur(function(){/^$/.test($(t).val())&&o.show()})}}}),this}});
//# sourceMappingURL=jquery.extend.js.map
